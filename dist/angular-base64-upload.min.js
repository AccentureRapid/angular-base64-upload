/*! angular-base64-upload - v0.0.9
* https://github.com/adonespitogo/angular-base64-upload
* Copyright (c) Adones Pitogo <pitogo.adones@gmail.com> 2015;
* Licensed MIT */
!function(a){"use strict";function b(b){for(var c="",d=new Uint8Array(b),e=d.byteLength,f=0;e>f;f++)c+=String.fromCharCode(d[f]);return a.btoa(c)}var c=a.angular;c.module("naif.base64",[]).directive("baseSixtyFourInput",function(){return{restrict:"A",require:"ngModel",link:function(d,e,f,g){function h(e){var h=b(e.target.result);if(l.base64=h,k.push(l),k.length<j.length)m++,i();else{var n=f.multiple?k:k[0];a.console.log(n),d.$apply(function(){g.$setViewValue(c.copy(n))})}}function i(){var a=j[m];l={},l.filetype=a.type,l.filename=a.name,l.filesize=a.size,n.readAsArrayBuffer(a)}var j,k,l,m,n=new FileReader;n.onload=h,e.on("change",function(){e[0].files.length&&(j=e[0].files,k=[],m=0,i())})}}}).directive("baseSixtyFourImage",[function(){return{restrict:"A",link:function(a,b,c){function d(a){return"data:"+a.filetype+";base64,"+a.base64}a.$watch(c.baseSixtyFourImage,function(a){a&&a.filetype&&0===a.filetype.indexOf("image")?b.attr("src",d(a)):b.attr("src",c.baseSixtyFourImagePlaceholder)})}}}])}(this);