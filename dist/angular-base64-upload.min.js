/*! angular-base64-upload - v0.1.3
* https://github.com/adonespitogo/angular-base64-upload
* Copyright (c) Adones Pitogo <pitogo.adones@gmail.com> 2015;
* Licensed MIT */

!function(a){"use strict";a._arrayBufferToBase64=function(b){for(var c="",d=new Uint8Array(b),e=d.byteLength,f=0;e>f;f++)c+=String.fromCharCode(d[f]);return a.btoa(c)};var b=a.angular.module("naif.base64",[]);b.directive("baseSixtyFourInput",["$window",function(a){for(var b=["onabort","onerror","onloadstart","onloadend","onprogress","onload"],c=["maxsize","minsize","maxnum","minnum","required"],d={maxsize:!0,minsize:!0,maxnum:!0,minnum:!0,required:!1},e={onChange:"&"},f=b.length-1;f>=0;f--){var g=b[f];e[g]="&"}return{restrict:"A",require:"?ngModel",scope:e,link:function(e,f,g,h){function i(a,b,c,d,e){c[a]=function(a){b()(a,c,d,q,r,e)}}function j(b,c,d){return function(f){var h=a._arrayBufferToBase64(f.target.result);d.base64=h,r.push(d),g.onload&&e.onload()(f,b,c,q,r,d),l()}}function k(a,c,d){for(var f=b.length-1;f>=0;f--){var h=b[f];g[h]&&"onload"!==h&&i(h,e[h],a,c,d)}a.onload=j(a,c,d)}function l(){e.$apply(function(){var a=g.multiple?r:r[0]||null;h.$setViewValue(angular.copy(a))})}function m(){for(var b=q.length-1;b>=0;b--){var c=new a.FileReader,d=q[b],e={};e.filetype=d.type,e.filename=d.name,e.filesize=d.size,k(c,d,e),c.readAsArrayBuffer(d)}}function n(a){g.onChange&&e.onChange()(a,q)}function o(a){e.$apply(function(){for(var b=c.length-1;b>=0;b--){var d=c[b],e=void 0===a[d]?s[d]:a[d];h.$setValidity(d,e),s[d]=e}})}function p(){var a={};if(g.required){var b=q.length>0;a.required=b}g.maxnum&&g.multiple&&q.length>parseInt(g.maxnum)&&(a.maxnum=!1),g.minnum&&g.multiple&&q.length<parseInt(g.minnum)&&(a.minnum=!1);for(var c=q.length-1;c>=0;c--){var d=q[c];g.maxsize&&d.size>1e3*parseFloat(g.maxsize)&&(a.maxsize=!1),g.minsize&&d.size<1e3*parseFloat(g.minsize)&&(a.minsize=!1)}o(a)}if(h){var q=[],r=[],s=angular.copy(d);f.on("change",function(a){a.target.files.length&&(r=[],q=a.target.files,n(a),s=angular.copy(d),p(),m())})}}}}])}(this);
//# sourceMappingURL=angular-base64-upload.min.js.map