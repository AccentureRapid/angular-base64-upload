/*! angular-base64-upload - v0.1.0
* https://github.com/adonespitogo/angular-base64-upload
* Copyright (c) Adones Pitogo <pitogo.adones@gmail.com> 2015;
* Licensed MIT */
!function(a){"use strict";function b(b){for(var c="",d=new Uint8Array(b),e=d.byteLength,f=0;e>f;f++)c+=String.fromCharCode(d[f]);return a.btoa(c)}var c=a.angular;c.module("naif.base64",[]).directive("baseSixtyFourInput",["$rootScope",function(d){return{restrict:"A",require:"ngModel",link:function(e,f,g,h){function i(a){var d=b(a.target.result);n.base64=d,m.push(n),m.length<l.length?(o++,k()):e.$apply(function(){var a=g.multiple?m:m[0];h.$setViewValue(c.copy(a))})}function j(a){return function(b){d.$broadcast("base64:event:"+a,b,l,m,l[o])}}function k(){var a=l[o];n={},n.filetype=a.type,n.filename=a.name,n.filesize=a.size,p.readAsArrayBuffer(a)}var l,m,n,o,p=new a.FileReader;p.onabort=j("onabort"),p.onerror=j("onerror"),p.onloadstart=j("onloadstart"),p.onloadend=j("onloadend"),p.onprogress=j("onprogress"),p.onload=i,f.on("change",function(){f[0].files.length&&(l=f[0].files,m=[],o=0,k())})}}}])}(this);