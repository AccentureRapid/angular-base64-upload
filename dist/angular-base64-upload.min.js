/*! angular-base64-upload - v0.0.9
* https://github.com/adonespitogo/angular-base64-upload
* Copyright (c) Adones Pitogo <pitogo.adones@gmail.com> 2015;
* Licensed MIT */
!function(a){"use strict";function b(b){for(var c="",d=new Uint8Array(b),e=d.byteLength,f=0;e>f;f++)c+=String.fromCharCode(d[f]);return a.btoa(c)}var c=a.angular;c.module("naif.base64",[]).directive("baseSixtyFourInput",function(){return{restrict:"A",require:"ngModel",link:function(a,d,e,f){function g(d){var g=b(d.target.result);k.base64=g,j.push(k),j.length<i.length?(l++,h()):a.$apply(function(){var a=e.multiple?j:j[0];f.$setViewValue(c.copy(a))})}function h(){var a=i[l];k={},k.filetype=a.type,k.filename=a.name,k.filesize=a.size,m.readAsArrayBuffer(a)}var i,j,k,l,m=new FileReader;m.onload=g,d.on("change",function(){d[0].files.length&&(i=d[0].files,j=[],l=0,h())})}}}).directive("baseSixtyFourImage",[function(){return{restrict:"A",link:function(a,b,c){function d(a){return"data:"+a.filetype+";base64,"+a.base64}a.$watch(c.baseSixtyFourImage,function(a){a&&a.filetype&&0===a.filetype.indexOf("image")?b.attr("src",d(a)):b.attr("src",c.baseSixtyFourImagePlaceholder)})}}}])}(this);