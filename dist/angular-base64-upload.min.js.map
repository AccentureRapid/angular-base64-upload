{"version":3,"file":"angular-base64-upload.min.js","sources":["angular-base64-upload.js"],"names":["window","undefined","_arrayBufferToBase64","buffer","binary","bytes","Uint8Array","len","byteLength","i","String","fromCharCode","btoa","mod","angular","module","directive","$window","$q","base64Converter","isolateScope","onChange","parser","FILE_READER_EVENTS","length","e","restrict","require","scope","link","elem","attrs","ngModel","_attachHandlerForEvent","eventName","handler","fReader","file","fileObject","rawFiles","fileObjects","_readerOnLoad","promise","target","result","when","base64","getBase64String","then","fileObj","push","_setViewValue","onload","_attachEventHandlers","newVal","multiple","$setViewValue","isFunction","$validate","v","version","full","split","parseInt","val","$viewValue","_maxsize","_minsize","_maxnum","_minnum","_readFiles","reader","FileReader","filetype","type","filename","name","filesize","size","readAsArrayBuffer","_onChange","maxnum","valid","$setValidity","minnum","maxsize","max","parseFloat","min","minsize","on","files","copy","$parsers","service","$rootScope","this","base64ToBlob","byteString","dataURI","atob","mimeString","ia","charCodeAt","Blob","getBase64Object","self","deferred","defer","$apply","resolve"],"mappings":";;;;;CAIA,SAAWA,EAAQC,GAEjB,YAGAD,GAAOE,qBAAuB,SAAWC,GAIvC,IAAK,GAHDC,GAAS,GACTC,EAAQ,GAAIC,YAAYH,GACxBI,EAAMF,EAAMG,WACPC,EAAI,EAAOF,EAAJE,EAASA,IACrBL,GAAUM,OAAOC,aAAcN,EAAOI,GAE1C,OAAOT,GAAOY,KAAMR,GAItB,IAAIS,GAAMb,EAAOc,QAAQC,OAAO,iBAEhCF,GAAIG,UAAU,sBACZ,UACA,KACA,kBACA,SAAUC,EAASC,EAAIC,GAQrB,IAAK,GANDC,IACFC,SAAU,IACVC,OAAQ,KAGNC,GAAsB,UAAW,UAAW,cAAe,YAAa,aAAc,UACjFd,EAAIc,EAAmBC,OAAS,EAAGf,GAAK,EAAGA,IAAK,CACvD,GAAIgB,GAAIF,EAAmBd,EAC3BW,GAAaK,GAAK,IAGpB,OACEC,SAAU,IACVC,QAAS,WACTC,MAAOR,EACPS,KAAM,SAAUD,EAAOE,EAAMC,EAAOC,GAalC,QAASC,GAAwBC,EAAWC,EAASC,EAASC,EAAMC,GAClEF,EAAQF,GAAc,SAAUT,GAC9BU,IAAUV,EAAGW,EAASC,EAAME,EAAUC,EAAaF,IAIvD,QAASG,GAAeL,EAASC,EAAMC,GAErC,MAAO,UAAUb,GAEf,GACIiB,GADAvC,EAASsB,EAAEkB,OAAOC,MAGlBb,GAAMT,OACRoB,EAAUxB,EAAG2B,KAAKjB,EAAMN,SAASe,KAGjCC,EAAWQ,OAAS3B,EAAgB4B,gBAAgB5C,GACpDuC,EAAUxB,EAAG2B,KAAKP,IAGpBI,EAAQM,KAAK,SAAUC,GACrBT,EAAYU,KAAKD,GACjBE,MAGEpB,EAAMqB,QACRxB,EAAMwB,SAAS3B,EAAGW,EAAUC,EAAME,EAAUC,EAAaF,IAO/D,QAASe,GAAsBjB,EAASC,EAAMC,GAE5C,IAAK,GAAI7B,GAAIc,EAAmBC,OAAS,EAAGf,GAAK,EAAGA,IAAK,CACvD,GAAIgB,GAAIF,EAAmBd,EACvBsB,GAAMN,IAAY,WAANA,GACdQ,EAAuBR,EAAGG,EAAMH,GAAIW,EAASC,EAAMC,GAIvDF,EAAQgB,OAASX,EAAcL,EAASC,EAAMC,GAGhD,QAASa,KACL,GAAIG,GAASvB,EAAMwB,SAAWf,EAAcA,EAAY,EACxDR,GAAQwB,cAAcF,GAClBxC,QAAQ2C,WAAWzB,EAAQ0B,YAC7B1B,EAAQ0B,WAGV,IAAIC,GAAI7C,QAAQ8C,QAAQC,KAAKC,MAAM,IAGnC,IAAa,MAATH,EAAE,IAAuB,MAATA,EAAE,IAAcI,SAASJ,EAAE,KAAO,EAAG,CACvD,GAAIK,GAAMhC,EAAQiC,UAClBC,GAASF,GACTG,EAASH,GACTI,EAAQJ,GACRK,EAAQL,IAId,QAASM,KAEP,IAAK,GAAI7D,GAAI8B,EAASf,OAAS,EAAGf,GAAK,EAAGA,IAAK,CAE7C,GAAI8D,GAAS,GAAItD,GAAQuD,WACrBnC,EAAOE,EAAS9B,GAChB6B,IAEJA,GAAWmC,SAAWpC,EAAKqC,KAC3BpC,EAAWqC,SAAWtC,EAAKuC,KAC3BtC,EAAWuC,SAAWxC,EAAKyC,KAE3BzB,EAAqBkB,EAAQlC,EAAMC,GAEnCiC,EAAOQ,kBAAkB1C,IAM7B,QAAS2C,GAAWvD,GACdM,EAAMV,UACRO,EAAMP,WAAWI,EAAGc,GAoBxB,QAAS6B,GAASJ,GAChB,GAAIjC,EAAMkD,QAAUlD,EAAMwB,UAAYS,EAAK,CACzC,GAAIkB,GAAQlB,EAAIxC,QAAUuC,SAAShC,EAAMkD,OACzCjD,GAAQmD,aAAa,SAAUD,GAEjC,MAAOlB,GAGT,QAASK,GAASL,GAChB,GAAIjC,EAAMqD,QAAUrD,EAAMwB,UAAYS,EAAK,CACzC,GAAIkB,GAAQlB,EAAIxC,QAAUuC,SAAShC,EAAMqD,OACzCpD,GAAQmD,aAAa,SAAUD,GAEjC,MAAOlB,GAGT,QAASE,GAAUF,GACjB,GAAIkB,IAAQ,CAEZ,IAAInD,EAAMsD,SAAWrB,EAAK,CACxB,GAAIsB,GAAkC,IAA5BC,WAAWxD,EAAMsD,QAE3B,IAAItD,EAAMwB,SACR,IAAK,GAAI9C,GAAI,EAAGA,EAAIuD,EAAIxC,OAAQf,IAAK,CACnC,GAAI4B,GAAO2B,EAAIvD,EACf,IAAI4B,EAAKwC,SAAWS,EAAK,CACvBJ,GAAQ,CACR,YAKJA,GAAQlB,EAAIa,UAAYS,CAE1BtD,GAAQmD,aAAa,UAAWD,GAGlC,MAAOlB,GAGT,QAASG,GAAUH,GACjB,GAAIkB,IAAQ,EACRM,EAAkC,IAA5BD,WAAWxD,EAAM0D,QAE3B,IAAI1D,EAAM0D,SAAWzB,EAAK,CACxB,GAAIjC,EAAMwB,SACR,IAAK,GAAI9C,GAAI,EAAGA,EAAIuD,EAAIxC,OAAQf,IAAK,CACnC,GAAI4B,GAAO2B,EAAIvD,EACf,IAAI4B,EAAKwC,SAAWW,EAAK,CACvBN,GAAQ,CACR,YAKJA,GAAQlB,EAAIa,UAAYW,CAE1BxD,GAAQmD,aAAa,UAAWD,GAGlC,MAAOlB,GAjLT,GAAKhC,EAAL,CAKAA,EAAQwB,cAAc,KAEtB,IAAIjB,MACAC,IA6FJV,GAAK4D,GAAG,SAAU,SAASjE,GAErBA,EAAEkB,OAAOgD,MAAMnE,SAInBgB,KACAA,EAAc1B,QAAQ8E,KAAKpD,GAC3BD,EAAWd,EAAEkB,OAAOgD,MACpBrB,IACAU,EAAUvD,MAqEZO,EAAQ6D,SAAS3C,KAAKkB,GACtBpC,EAAQ6D,SAAS3C,KAAKmB,GACtBrC,EAAQ6D,SAAS3C,KAAKgB,GACtBlC,EAAQ6D,SAAS3C,KAAKiB,SAO9BtD,EAAIiF,QAAQ,mBACV,UACA,KACA,aACA,SAAU7E,EAASC,EAAI6E,GAErBC,KAAKjD,gBAAkB,SAAU5C,GAC/B,MAAOc,GAAQf,qBAAqBC,IAKtC6F,KAAKC,aAAe,SAAUnD,EAAQ2B,GAEpC,GAGIyB,GAHAC,EAAU,QAAQ1B,EAAS,WAAW3B,CAI1CoD,GAAajF,EAAQmF,KAAKD,EAAQrC,MAAM,KAAK,GAO7C,KAAK,GAJDuC,GAAaF,EAAQrC,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GAG5DwC,EAAK,GAAIhG,YAAW4F,EAAW1E,QAC1Bf,EAAI,EAAGA,EAAIyF,EAAW1E,OAAQf,IACnC6F,EAAG7F,GAAKyF,EAAWK,WAAW9F,EAGlC,OAAO,IAAI+F,OAAMF,IAAM5B,KAAK2B,KAG9BL,KAAKS,gBAAkB,SAAUpE,GAE/B,GAAIqE,GAAOV,KACPW,EAAWzF,EAAG0F,QACdtE,GACFqC,SAAUtC,EAAKuC,KACfH,SAAUpC,EAAKqC,KACfG,SAAUxC,EAAKyC,KACfhC,OAAQ,MAGNyB,EAAS,GAAItD,GAAQuD,UAUzB,OATAD,GAAOnB,OAAS,SAAU3B,GACxBa,EAAWQ,OAAS4D,EAAK3D,gBAAgBtB,EAAEkB,OAAOC,QAClDmD,EAAWc,OAAO,WAChBF,EAASG,QAAQxE,MAIrBiC,EAAOQ,kBAAkB1C,GAElBsE,EAASjE,aAOrB1C"}