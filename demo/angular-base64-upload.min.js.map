{"version":3,"file":"angular-base64-upload.min.js","sources":["angular-base64-upload.js"],"names":["window","undefined","_arrayBufferToBase64","buffer","binary","bytes","Uint8Array","len","byteLength","i","String","fromCharCode","btoa","mod","angular","module","directive","$window","$q","base64Converter","isolateScope","onChange","parser","FILE_READER_EVENTS","length","e","restrict","require","scope","link","elem","attrs","ngModel","_attachHandlerForEvent","eventName","handler","fReader","file","fileObject","rawFiles","fileObjects","_readerOnLoad","promise","target","result","when","base64","getBase64String","then","fileObj","push","_setViewValue","onload","_attachEventHandlers","newVal","multiple","$setViewValue","_readFiles","reader","FileReader","filetype","type","filename","name","filesize","size","readAsArrayBuffer","_onChange","_maxnum","val","maxnum","valid","parseInt","$setValidity","_minnum","minnum","_maxsize","maxsize","max","parseFloat","_minsize","min","minsize","on","files","copy","$parsers","service","$rootScope","this","base64ToBlob","byteString","dataURI","atob","split","mimeString","ia","charCodeAt","Blob","getBase64Object","self","deferred","defer","$apply","resolve"],"mappings":";;;;;CAIA,SAAWA,EAAQC,GAEjB,YAGAD,GAAOE,qBAAuB,SAAWC,GAIvC,IAAK,GAHDC,GAAS,GACTC,EAAQ,GAAIC,YAAYH,GACxBI,EAAMF,EAAMG,WACPC,EAAI,EAAOF,EAAJE,EAASA,IACrBL,GAAUM,OAAOC,aAAcN,EAAOI,GAE1C,OAAOT,GAAOY,KAAMR,GAItB,IAAIS,GAAMb,EAAOc,QAAQC,OAAO,iBAEhCF,GAAIG,UAAU,sBACZ,UACA,KACA,kBACA,SAAUC,EAASC,EAAIC,GAQrB,IAAK,GANDC,IACFC,SAAU,IACVC,OAAQ,KAGNC,GAAsB,UAAW,UAAW,cAAe,YAAa,aAAc,UACjFd,EAAIc,EAAmBC,OAAS,EAAGf,GAAK,EAAGA,IAAK,CACvD,GAAIgB,GAAIF,EAAmBd,EAC3BW,GAAaK,GAAK,IAGpB,OACEC,SAAU,IACVC,QAAS,WACTC,MAAOR,EACPS,KAAM,SAAUD,EAAOE,EAAMC,EAAOC,GAalC,QAASC,GAAwBC,EAAWC,EAASC,EAASC,EAAMC,GAClEF,EAAQF,GAAc,SAAUT,GAC9BU,IAAUV,EAAGW,EAASC,EAAME,EAAUC,EAAaF,IAIvD,QAASG,GAAeL,EAASC,EAAMC,GAErC,MAAO,UAAUb,GAEf,GACIiB,GADAvC,EAASsB,EAAEkB,OAAOC,MAGlBb,GAAMT,OACRoB,EAAUxB,EAAG2B,KAAKjB,EAAMN,SAASe,KAGjCC,EAAWQ,OAAS3B,EAAgB4B,gBAAgB5C,GACpDuC,EAAUxB,EAAG2B,KAAKP,IAGpBI,EAAQM,KAAK,SAAUC,GACrBT,EAAYU,KAAKD,GACjBE,MAGEpB,EAAMqB,QACRxB,EAAMwB,SAAS3B,EAAGW,EAAUC,EAAME,EAAUC,EAAaF,IAO/D,QAASe,GAAsBjB,EAASC,EAAMC,GAE5C,IAAK,GAAI7B,GAAIc,EAAmBC,OAAS,EAAGf,GAAK,EAAGA,IAAK,CACvD,GAAIgB,GAAIF,EAAmBd,EACvBsB,GAAMN,IAAY,WAANA,GACdQ,EAAuBR,EAAGG,EAAMH,GAAIW,EAASC,EAAMC,GAIvDF,EAAQgB,OAASX,EAAcL,EAASC,EAAMC,GAGhD,QAASa,KACL,GAAIG,GAASvB,EAAMwB,SAAWf,EAAeA,EAAY,EACzDR,GAAQwB,cAAcF,GAG1B,QAASG,KAEP,IAAK,GAAIhD,GAAI8B,EAASf,OAAS,EAAGf,GAAK,EAAGA,IAAK,CAE7C,GAAIiD,GAAS,GAAIzC,GAAQ0C,WACrBtB,EAAOE,EAAS9B,GAChB6B,IAEJA,GAAWsB,SAAWvB,EAAKwB,KAC3BvB,EAAWwB,SAAWzB,EAAK0B,KAC3BzB,EAAW0B,SAAW3B,EAAK4B,KAE3BZ,EAAqBK,EAAQrB,EAAMC,GAEnCoB,EAAOQ,kBAAkB7B,IAM7B,QAAS8B,GAAW1C,GACdM,EAAMV,UACRO,EAAMP,WAAWI,EAAGc,GAqBxB,QAAS6B,GAASC,GAChB,GAAItC,EAAMuC,QAAUvC,EAAMwB,SAAU,CAClC,GAAIgB,GAAQF,EAAI7C,QAAUgD,SAASzC,EAAMuC,OACzCtC,GAAQyC,aAAa,SAAUF,GAEjC,MAAOF,GAGT,QAASK,GAASL,GAChB,GAAItC,EAAM4C,QAAU5C,EAAMwB,SAAU,CAClC,GAAIgB,GAAQF,EAAI7C,QAAUgD,SAASzC,EAAM4C,OACzC3C,GAAQyC,aAAa,SAAUF,GAEjC,MAAOF,GAGT,QAASO,GAAUP,GACjB,GAAIE,IAAQ,CAEZ,IAAIxC,EAAM8C,QAAS,CACjB,GAAIC,GAAkC,IAA5BC,WAAWhD,EAAM8C,QAE3B,IAAI9C,EAAMwB,SACR,IAAK,GAAI9C,GAAI,EAAGA,EAAI4D,EAAI7C,OAAQf,IAAK,CACnC,GAAI4B,GAAOgC,EAAI5D,EACf,IAAI4B,EAAK2B,SAAWc,EAAK,CACvBP,GAAQ,CACR,YAKJA,GAAQF,EAAIL,UAAYc,CAE1B9C,GAAQyC,aAAa,UAAWF,GAGlC,MAAOF,GAGT,QAASW,GAAUX,GACjB,GAAIE,IAAQ,EACRU,EAAkC,IAA5BF,WAAWhD,EAAMmD,QAE3B,IAAInD,EAAMmD,QAAS,CACjB,GAAInD,EAAMwB,SACR,IAAK,GAAI9C,GAAI,EAAGA,EAAI4D,EAAI7C,OAAQf,IAAK,CACnC,GAAI4B,GAAOgC,EAAI5D,EACf,IAAI4B,EAAK2B,SAAWiB,EAAK,CACvBV,GAAQ,CACR,YAKJA,GAAQF,EAAIL,UAAYiB,CAE1BjD,GAAQyC,aAAa,UAAWF,GAGlC,MAAOF,GApKT,GAAKrC,EAAL,CAKAA,EAAQwB,cAAc,KAEtB,IAAIjB,MACAC,IA+EJV,GAAKqD,GAAG,SAAU,SAAS1D,GAErBA,EAAEkB,OAAOyC,MAAM5D,SAInBgB,KACAA,EAAc1B,QAAQuE,KAAK7C,GAC3BD,EAAWd,EAAEkB,OAAOyC,MACpB3B,IAEAU,EAAU1C,MAqEZO,EAAQsD,SAASpC,KAAKkB,GACtBpC,EAAQsD,SAASpC,KAAKwB,GACtB1C,EAAQsD,SAASpC,KAAK0B,GACtB5C,EAAQsD,SAASpC,KAAK8B,SAO9BnE,EAAI0E,QAAQ,mBACV,UACA,KACA,aACA,SAAUtE,EAASC,EAAIsE,GAErBC,KAAK1C,gBAAkB,SAAU5C,GAC/B,MAAOc,GAAQf,qBAAqBC,IAKtCsF,KAAKC,aAAe,SAAU5C,EAAQc,GAEpC,GAGI+B,GAHAC,EAAU,QAAQhC,EAAS,WAAWd,CAI1C6C,GAAa1E,EAAQ4E,KAAKD,EAAQE,MAAM,KAAK,GAO7C,KAAK,GAJDC,GAAaH,EAAQE,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GAG5DE,EAAK,GAAI1F,YAAWqF,EAAWnE,QAC1Bf,EAAI,EAAGA,EAAIkF,EAAWnE,OAAQf,IACnCuF,EAAGvF,GAAKkF,EAAWM,WAAWxF,EAGlC,OAAO,IAAIyF,OAAMF,IAAMnC,KAAKkC,KAG9BN,KAAKU,gBAAkB,SAAU9D,GAE/B,GAAI+D,GAAOX,KACPY,EAAWnF,EAAGoF,QACdhE,GACFwB,SAAUzB,EAAK0B,KACfH,SAAUvB,EAAKwB,KACfG,SAAU3B,EAAK4B,KACfnB,OAAQ,MAGNY,EAAS,GAAIzC,GAAQ0C,UAUzB,OATAD,GAAON,OAAS,SAAU3B,GACxBa,EAAWQ,OAASsD,EAAKrD,gBAAgBtB,EAAEkB,OAAOC,QAClD4C,EAAWe,OAAO,WAChBF,EAASG,QAAQlE,MAIrBoB,EAAOQ,kBAAkB7B,GAElBgE,EAAS3D,aAOrB+C"}