/*! angular-base64-upload - v0.1.3
* https://github.com/adonespitogo/angular-base64-upload
* Copyright (c) Adones Pitogo <pitogo.adones@gmail.com> 2015;
* Licensed MIT */

!function(a){"use strict";a._arrayBufferToBase64=function(b){for(var c="",d=new Uint8Array(b),e=d.byteLength,f=0;e>f;f++)c+=String.fromCharCode(d[f]);return a.btoa(c)};var b=a.angular.module("naif.base64",[]);b.directive("baseSixtyFourInput",["$window",function(a){for(var b=["onabort","onerror","onloadstart","onloadend","onprogress","onload"],c={onChange:"&"},d=b.length-1;d>=0;d--){var e=b[d];c[e]="&"}return{restrict:"A",require:"?ngModel",scope:c,link:function(c,d,e,f){function g(a,b,c,d,e){c[a]=function(a){b()(a,c,d,q,r,e)}}function h(b,d,f){return function(g){var h=a._arrayBufferToBase64(g.target.result);f.base64=h,r.push(f),e.onload&&c.onload()(g,b,d,q,r,f),j()}}function i(a,d,f){for(var i=b.length-1;i>=0;i--){var j=b[i];e[j]&&"onload"!==j&&g(j,c[j],a,d,f)}a.onload=h(a,d,f)}function j(){c.$apply(function(){var a=e.multiple?r:r[0];f.$setViewValue(angular.copy(a))})}function k(){for(var b=q.length-1;b>=0;b--){var c=new a.FileReader,d=q[b],e={};e.filetype=d.type,e.filename=d.name,e.filesize=d.size,i(c,d,e),c.readAsArrayBuffer(d)}}function l(a){e.onChange&&c.onChange()(a,q)}function m(a){if(e.maxnum&&e.multiple){var b=a.length<=parseInt(e.maxnum);f.$setValidity("maxnum",b)}return a}function n(a){if(e.minnum&&e.multiple){var b=a.length>=parseInt(e.minnum);f.$setValidity("minnum",b)}return a}function o(a){var b=!0;if(e.maxsize){for(var c=0;c<a.length;c++){var d=a[c];if(d.filesize>1e3*parseFloat(e.maxsize)){b=!1;break}}f.$setValidity("maxsize",b)}return a}function p(a){var b=!0;if(e.minsize){for(var c=0;c<a.length;c++){var d=a[c];if(d.filesize<1e3*parseFloat(e.minsize)){b=!1;break}}f.$setValidity("minsize",b)}return a}if(f){f.$setViewValue(null);var q=[],r=[];d.on("change",function(a){a.target.files.length&&(r=[],q=a.target.files,k(),l(a))}),f.$parsers.push(m),f.$parsers.push(n),f.$parsers.push(o),f.$parsers.push(p)}}}}])}(this);
//# sourceMappingURL=angular-base64-upload.min.js.map