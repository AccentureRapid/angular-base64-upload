/*! angular-base64-upload - v0.1.2
* https://github.com/adonespitogo/angular-base64-upload
* Copyright (c) Adones Pitogo <pitogo.adones@gmail.com> 2015;
* Licensed MIT */

!function(a){"use strict";a._arrayBufferToBase64=function(b){for(var c="",d=new Uint8Array(b),e=d.byteLength,f=0;e>f;f++)c+=String.fromCharCode(d[f]);return a.btoa(c)};var b=a.angular.module("naif.base64",[]);b.directive("baseSixtyFourInput",["$window",function(a){for(var b=["onabort","onerror","onloadstart","onloadend","onprogress","onload"],c={onChange:"&"},d=b.length-1;d>=0;d--){var e=b[d];c[e]="&"}return{restrict:"A",require:"?ngModel",scope:c,link:function(c,d,e,f){function g(a,b,c,d,e){c[a]=function(a){b()(a,c,d,r,s,e)}}function h(b,d,f){return function(g){var h=a._arrayBufferToBase64(g.target.result);f.base64=h,s.push(f),e.onload&&c.onload()(g,b,d,r,s,f),j()}}function i(a,d,f){for(var i=b.length-1;i>=0;i--){var j=b[i];e[j]&&"onload"!==j&&g(j,c[j],a,d,f)}a.onload=h(a,d,f)}function j(){c.$apply(function(){var a=e.multiple?s:s[0];f.$setViewValue(angular.copy(a))})}function k(){for(var b=r.length-1;b>=0;b--){var c=new a.FileReader,d=r[b],e={};e.filetype=d.type,e.filename=d.name,e.filesize=d.size,i(c,d,e),c.readAsArrayBuffer(d)}}function l(a){e.onChange&&c.onChange()(a,r)}function m(a){var b=a.length?a.length>0:a?!0:!1;return f.$setValidity("required",b),a}function n(a){if(e.maxnum&&e.multiple){var b=a.length<=parseInt(e.maxnum);f.$setValidity("maxnum",b)}return a}function o(a){if(e.minnum&&e.multiple){var b=a.length>=parseInt(e.minnum);f.$setValidity("minnum",b)}return a}function p(a){e.maxsize&&(a.filesize>1e3*parseFloat(e.maxsize)?f.$setValidity("maxsize",!1):f.$setValidity("maxsize",!0)),e.minsize&&(a.filesize<1e3*parseFloat(e.minsize)?f.$setValidity("minsize",!1):f.$setValidity("minsize",!0))}function q(a){if(a.length)for(var b=a.length-1;b>=0;b--){var c=a[b];p(c)}else p(a);return a}if(f){f.$setViewValue(null);var r=[],s=[];d.on("change",function(a){a.target.files.length&&(s=[],r=a.target.files,k(),l(a))}),f.$parsers.push(m),f.$parsers.push(n),f.$parsers.push(o),f.$parsers.push(q)}}}}])}(this);
//# sourceMappingURL=angular-base64-upload.min.js.map